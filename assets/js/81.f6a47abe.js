(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{698:function(s,t,a){"use strict";a.r(t);var r=a(47),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("WXS（WeiXin Script）是小程序的一套脚本语言，结合 "),a("code",[s._v("WXML")]),s._v("，可以构建出页面的结构，WXS 与 JavaScript 是不同的语言，有自己的语法，并不和 JavaScript 一致。")]),s._v(" "),a("h3",{attrs:{id:"语法对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法对比"}},[s._v("#")]),s._v(" 语法对比")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("wxs")]),s._v(" 不支持 "),a("code",[s._v("ES6")]),s._v(" 语法，其标准基本是参考 "),a("code",[s._v("ES5")]),s._v(" 标准，在以下细节之处有些许出入：")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("变量名")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("wxs")]),s._v(" 中要求变量名只允许包含字母、数字、下划线，且不能以数字开头")]),s._v(" "),a("p",[a("code",[s._v("ES5")]),s._v(" 中变量名允许包含字母、数字、下划线、美元符，同样不能以数字开头")])])]),s._v(" "),a("li",[a("p",[s._v("注释")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("wxs")]),s._v(" 和 "),a("code",[s._v("ES5")]),s._v(" 都支持单行注释及多行注释 ，另外，"),a("code",[s._v("wxs")]),s._v(" 还支持结尾注释")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" wxml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("wxs module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sample"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 方法一：单行注释")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n方法二：多行注释\n*/")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/*\n方法三：结尾注释。即从 /* 开始往后的所有 WXS 代码均被注释\n\nvar a = 1;\nvar b = 2;\nvar c = "fake";\n\n</wxs>\n')])])])])])]),s._v(" "),a("h3",{attrs:{id:"模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块"}},[s._v("#")]),s._v(" 模块")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("wxs")]),s._v(" 代码可以写在 "),a("code",[s._v("<wxs>")]),s._v(" 标签内，或以 "),a("code",[s._v(".wxs")]),s._v(" 为后缀名的文件内")]),s._v(" "),a("p",[s._v("每个 "),a("code",[s._v(".wxs")]),s._v(" 文件和 "),a("code",[s._v("<wxs>")]),s._v(" 标签都是一个单独的模块，有自己独立的作用域；模块内的变量和函数对其他模块不可见，但可通过 "),a("code",[s._v("module.exports")]),s._v(" 暴露内部数据")])]),s._v(" "),a("h4",{attrs:{id:"wxs-标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxs-标签"}},[s._v("#")]),s._v(" wxs 标签")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("wxs")]),s._v(" 标签包含两个属性："),a("code",[s._v("module")]),s._v(" 和 "),a("code",[s._v("src")]),s._v(" ；"),a("code",[s._v("module")]),s._v(" 属性表示模块名，必填；"),a("code",[s._v("src")]),s._v(" 属性表示引用的 "),a("code",[s._v(".wxs")]),s._v(" 文件的相对路径，")]),s._v(" "),a("p",[a("code",[s._v("module")]),s._v(" 属性必填，表示模块名，其规则与变量命名规则一致，如果在同一 "),a("code",[s._v("wxml")]),s._v(" 中存在同名，则后者覆盖前者")]),s._v(" "),a("p",[a("code",[s._v("src")]),s._v(" 属性表示引用的其它 "),a("code",[s._v(".wxs")]),s._v(" 文件的相对路径，仅在 "),a("code",[s._v("wxs")]),s._v(" 标签为单闭合标签或标签内容为空时有效")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("wxml"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("wxs module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" msg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" msg "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wxs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("h4",{attrs:{id:"module-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-对象"}},[s._v("#")]),s._v(" module 对象")]),s._v(" "),a("blockquote",[a("p",[s._v("每个 "),a("code",[s._v("wxs")]),s._v(" 模块均有一个内置的 "),a("code",[s._v("module")]),s._v(" 对象，该对象有个 "),a("code",[s._v("exports")]),s._v(" 属性，可以对外共享模块内的私有变量和函数")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /pages/tools.wxs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"'hello world' from tools.wxs\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("bar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" foo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bar"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" bar "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"some msg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" page"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wxml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("wxs src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./../tools.wxs"')]),s._v(" module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tools"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("h4",{attrs:{id:"模块引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块引用"}},[s._v("#")]),s._v(" 模块引用")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("若想在"),a("code",[s._v(".wxs")]),s._v(" 模块中引用其他 "),a("code",[s._v(".wxs")]),s._v(" 模块，可以通过 "),a("code",[s._v("require")]),s._v(" 函数实现；"),a("code",[s._v("require")]),s._v(" 函数还可以引用 "),a("code",[s._v(".js")]),s._v(" 模块")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("引用时需注意使用相对路径，不能使用绝对路径")])])]),s._v(" "),a("li",[a("p",[a("strong",[a("code",[s._v("wxs")]),s._v(" 模块均为单例，在第一次被引用时会自动初始化为单例对象；多个页面，多个地方，多次引用，使用的都是同一个 "),a("code",[s._v("wxs")]),s._v("模块对象")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("如果 "),a("code",[s._v("wxs")]),s._v(" 模块在定义后未被引用，则该模块不会被解析运行")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("<wxs>")]),s._v(" 模块只能在定义该模块的 "),a("code",[s._v("WXML")]),s._v(" 文件访问，如果该 "),a("code",[s._v("WXML")]),s._v(" 文件被其他 "),a("code",[s._v("WXML")]),s._v(" 文件引用，则这个"),a("code",[s._v("<wxs>")]),s._v(" 模块不会被引入到对应的 "),a("code",[s._v("WXML")]),s._v(" 文件中；同理在 "),a("code",[s._v("<template>")]),s._v(" 标签中只能使用其被定义所在"),a("code",[s._v("WXML")]),s._v(" 文件中定义的 "),a("code",[s._v("<wxs>")]),s._v(" 模块")])])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /pages/logic.wxs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" tools "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./tools.wxs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fOO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logic.wxs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("page"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wxml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("wxs src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./../logic.wxs"')]),s._v(" module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logic"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),a("p",[s._v("参考："),a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/"),a("OutboundLink")],1)]),s._v(" "),a("hr")])}),[],!1,null,null,null);t.default=e.exports}}]);