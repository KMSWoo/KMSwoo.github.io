(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{690:function(s,t,a){"use strict";a.r(t);var e=a(47),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("关于多个相同平台的git账号以及多个不同平台的git账号配置。")]),s._v(" "),a("h2",{attrs:{id:"太长不看版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#太长不看版"}},[s._v("#")]),s._v(" 太长不看版")]),s._v(" "),a("ol",[a("li",[s._v("各自生成对应的"),a("em",[s._v("密钥")]),s._v("并添加到github")]),s._v(" "),a("li",[a("code",[s._v("ssh-add")]),s._v("分别把两个私钥添加进来（调用 "),a("code",[s._v("ssh-add -l")]),s._v("可查看添加结果）")]),s._v(" "),a("li",[s._v("在.ssh目录下创建config 文件，git通过这个文件才知道哪个私钥去对应哪个公钥")]),s._v(" "),a("li",[s._v("在各自项目的.git目录的config中的"),a("code",[s._v("[core]")]),s._v("添加"),a("code",[s._v("sshCommand=ssh -i path/to/rsa")]),s._v("（一般是在~/.ssh/路径中，注意这里是私钥）,设置对应的用户名和邮箱")])]),s._v(" "),a("p",[s._v("PS：")]),s._v(" "),a("ul",[a("li",[s._v("更加详细的步骤"),a("a",{attrs:{href:"https://medium.com/@pinglinh/how-to-have-2-github-accounts-on-one-machine-windows-69b5b4c5b14e",target:"_blank",rel:"noopener noreferrer"}},[s._v("链接"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("第三步和第四步取其一即可")])]),s._v(" "),a("p",[a("strong",[s._v("第三步展开")]),s._v("：")]),s._v(" "),a("p",[s._v("config文件内容：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# personal")]),s._v("\nHost personal\nUser: 托管平台用户名\nHostName github.com\nIdentityFile ~/.ssh/id_rsa_personal\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# company")]),s._v("\nHost company\nUser: 托管平台用户名\nHostName github.com\nIdentityFile ~/.ssh/id_rsa_company\n")])])]),a("blockquote",[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# Host: 主机别名\n# HostName: 托管平台域名地址，如github.com\n# IdentityFile : 指明上面User对应的identityFile路径\n# User: 托管平台用户名\n# Port: 端口号，可不填（如果不是默认22号端口则需要指定）\n# PreferredAuthentications publickey\n")])])])]),s._v(" "),a("p",[a("strong",[s._v("测试ssh-key是否连通")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@personal\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@company\n")])])]),a("p",[s._v("成功的情况下会返回：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Hi xxx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" You've successfully authenticated, but GitHub does not provide shell access.\n")])])]),a("p",[s._v("此时私钥和公钥都配置正常了")]),s._v(" "),a("h2",{attrs:{id:"预备知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预备知识"}},[s._v("#")]),s._v(" 预备知识")]),s._v(" "),a("h3",{attrs:{id:"git配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git配置文件"}},[s._v("#")]),s._v(" git配置文件")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("/etc/gitconfig")]),s._v(" 文件: 包含系统上每一个用户及他们仓库的通用配置。 如果在执行 "),a("code",[s._v("git config")]),s._v(" 时带上 "),a("code",[s._v("--system")]),s._v(" 选项，那么它就会读写该文件中的配置变量。 （由于它是系统配置文件，因此你需要管理员或超级用户权限来修改它。）")]),s._v(" "),a("li",[a("code",[s._v("~/.gitconfig")]),s._v(" 或 "),a("code",[s._v("~/.config/git/config")]),s._v(" 文件：只针对当前用户。 你可以传递 "),a("code",[s._v("--global")]),s._v(" 选项让 Git 读写此文件，这会对你系统上 "),a("strong",[s._v("所有")]),s._v(" 的仓库生效。")]),s._v(" "),a("li",[s._v("当前使用仓库的 Git 目录中的 "),a("code",[s._v("config")]),s._v(" 文件（即 "),a("code",[s._v(".git/config")]),s._v("）：针对该仓库。 你可以传递 "),a("code",[s._v("--local")]),s._v(" 选项让 Git 强制读写此文件，虽然默认情况下用的就是它。。 （当然，你需要进入某个 Git 仓库中才能让该选项生效。）")])]),s._v(" "),a("p",[s._v("每一个级别会覆盖上一级别的配置。")]),s._v(" "),a("h3",{attrs:{id:"windows下使用ssh-add报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows下使用ssh-add报错"}},[s._v("#")]),s._v(" Windows下使用ssh-add报错")]),s._v(" "),a("h5",{attrs:{id:"环境信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境信息"}},[s._v("#")]),s._v(" 环境信息")]),s._v(" "),a("ul",[a("li",[s._v("操作系统:"),a("strong",[s._v("windows 10")])]),s._v(" "),a("li",[s._v("终端:"),a("strong",[s._v("Windows PowerShell")])])]),s._v(" "),a("h5",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),a("p",[s._v("使用ssh-add时报错")]),s._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("PS")]),s._v(" D:\\code> ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("add "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l\nError connecting to agent: No such file or directory\n")])])]),a("h5",{attrs:{id:"处理步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理步骤"}},[s._v("#")]),s._v(" 处理步骤")]),s._v(" "),a("ul",[a("li",[s._v("检查ssh-agent服务是否启动成功")])]),s._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("PS")]),s._v(" D:\\code> "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get-service")]),s._v(" ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\nStatus   Name               DisplayName\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\nStopped  ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("agent          OpenSSH Authentication Agent\n")])])]),a("ul",[a("li",[s._v("发现ssh-agent服务状态为 stopped,启动服务")])]),s._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("PS")]),s._v(" D:\\code> "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Set-Service")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Name ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("agent "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("StartupType Manual\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("PS")]),s._v(" D:\\code> "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Start-Service")]),s._v(" ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("agent\n")])])]),a("hr")])}),[],!1,null,null,null);t.default=r.exports}}]);