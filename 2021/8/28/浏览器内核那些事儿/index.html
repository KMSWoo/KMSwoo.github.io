<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器内核那些事儿</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" href="/favicons/favicon.png">
    <link rel="stylesheet" href="https://fonts.font.im/css?family=Lobster|Satisfy">
    <link rel="preload" crossorigin="anonymous" href="//at.alicdn.com/t/font_2949371_6nhphjuvnzc.woff2" as="font" type="font/woff2">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2949371_6nhphjuvnzc.css">
    <link rel="preload" crossorigin="anonymous" href="//at.alicdn.com/t/font_2953551_u612koyhj6.woff2" as="font" type="font/woff2">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2953551_u612koyhj6.css">
    <script charset="utf-8" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async="true"></script>
    <meta name="description" content="Just for fun!">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.709f0a23.css" as="style"><link rel="preload" href="/assets/js/app.f6b2750d.js" as="script"><link rel="preload" href="/assets/js/6.992087fc.js" as="script"><link rel="preload" href="/assets/js/1.bd8257ab.js" as="script"><link rel="preload" href="/assets/js/86.c4379b40.js" as="script"><link rel="prefetch" href="/assets/js/10.a4ac7942.js"><link rel="prefetch" href="/assets/js/100.334f7041.js"><link rel="prefetch" href="/assets/js/101.fbd706a6.js"><link rel="prefetch" href="/assets/js/102.928bd9cf.js"><link rel="prefetch" href="/assets/js/103.0e507560.js"><link rel="prefetch" href="/assets/js/104.677d6026.js"><link rel="prefetch" href="/assets/js/11.a88e960f.js"><link rel="prefetch" href="/assets/js/12.82f24d68.js"><link rel="prefetch" href="/assets/js/13.aa0330ff.js"><link rel="prefetch" href="/assets/js/14.c5724fbc.js"><link rel="prefetch" href="/assets/js/15.c41a9191.js"><link rel="prefetch" href="/assets/js/16.b14c2bfe.js"><link rel="prefetch" href="/assets/js/17.6bd551a7.js"><link rel="prefetch" href="/assets/js/18.4f1f5177.js"><link rel="prefetch" href="/assets/js/19.f06a202c.js"><link rel="prefetch" href="/assets/js/20.907e26c8.js"><link rel="prefetch" href="/assets/js/21.dfdb6fc0.js"><link rel="prefetch" href="/assets/js/22.3c22b8fb.js"><link rel="prefetch" href="/assets/js/23.ba3747ff.js"><link rel="prefetch" href="/assets/js/24.07436c85.js"><link rel="prefetch" href="/assets/js/25.f117c5b2.js"><link rel="prefetch" href="/assets/js/26.fd9683ac.js"><link rel="prefetch" href="/assets/js/27.90ad260b.js"><link rel="prefetch" href="/assets/js/28.e5a99905.js"><link rel="prefetch" href="/assets/js/29.7f97fe08.js"><link rel="prefetch" href="/assets/js/3.6131e7eb.js"><link rel="prefetch" href="/assets/js/30.c5ed064d.js"><link rel="prefetch" href="/assets/js/31.c461afd1.js"><link rel="prefetch" href="/assets/js/32.8eebdde2.js"><link rel="prefetch" href="/assets/js/33.03d4eff8.js"><link rel="prefetch" href="/assets/js/34.3928d533.js"><link rel="prefetch" href="/assets/js/35.ef8efb45.js"><link rel="prefetch" href="/assets/js/36.83819fce.js"><link rel="prefetch" href="/assets/js/37.6d59eda5.js"><link rel="prefetch" href="/assets/js/38.a4afb281.js"><link rel="prefetch" href="/assets/js/39.43918783.js"><link rel="prefetch" href="/assets/js/4.b19c5430.js"><link rel="prefetch" href="/assets/js/40.d580eb3a.js"><link rel="prefetch" href="/assets/js/41.b577c732.js"><link rel="prefetch" href="/assets/js/42.981612e9.js"><link rel="prefetch" href="/assets/js/43.2885ecf0.js"><link rel="prefetch" href="/assets/js/44.22787400.js"><link rel="prefetch" href="/assets/js/45.7723d406.js"><link rel="prefetch" href="/assets/js/46.d928e9cd.js"><link rel="prefetch" href="/assets/js/47.f85996d5.js"><link rel="prefetch" href="/assets/js/48.6c8717ee.js"><link rel="prefetch" href="/assets/js/49.3c5e8dd4.js"><link rel="prefetch" href="/assets/js/5.2622ab97.js"><link rel="prefetch" href="/assets/js/50.92a73ca7.js"><link rel="prefetch" href="/assets/js/51.80a48043.js"><link rel="prefetch" href="/assets/js/52.c9bf257c.js"><link rel="prefetch" href="/assets/js/53.018ac1d8.js"><link rel="prefetch" href="/assets/js/54.a89e7420.js"><link rel="prefetch" href="/assets/js/55.d3aaddea.js"><link rel="prefetch" href="/assets/js/56.e9a7f02b.js"><link rel="prefetch" href="/assets/js/57.3f40c7b1.js"><link rel="prefetch" href="/assets/js/58.ad13bdb8.js"><link rel="prefetch" href="/assets/js/59.e269e085.js"><link rel="prefetch" href="/assets/js/60.0e9131e2.js"><link rel="prefetch" href="/assets/js/61.cc482820.js"><link rel="prefetch" href="/assets/js/62.a2e07666.js"><link rel="prefetch" href="/assets/js/63.7ddbd27f.js"><link rel="prefetch" href="/assets/js/64.01d97934.js"><link rel="prefetch" href="/assets/js/65.ec223303.js"><link rel="prefetch" href="/assets/js/66.1e481a1f.js"><link rel="prefetch" href="/assets/js/67.464c9e1a.js"><link rel="prefetch" href="/assets/js/68.de1774cb.js"><link rel="prefetch" href="/assets/js/69.b9d57c0d.js"><link rel="prefetch" href="/assets/js/7.74b5cc39.js"><link rel="prefetch" href="/assets/js/70.3711e0ce.js"><link rel="prefetch" href="/assets/js/71.767e8f35.js"><link rel="prefetch" href="/assets/js/72.a53a1b45.js"><link rel="prefetch" href="/assets/js/73.bee69c94.js"><link rel="prefetch" href="/assets/js/74.7a7adeff.js"><link rel="prefetch" href="/assets/js/75.6c3a8090.js"><link rel="prefetch" href="/assets/js/76.d1ae5729.js"><link rel="prefetch" href="/assets/js/77.5c3a3781.js"><link rel="prefetch" href="/assets/js/78.00f78c3d.js"><link rel="prefetch" href="/assets/js/79.7411c161.js"><link rel="prefetch" href="/assets/js/8.3a17ca06.js"><link rel="prefetch" href="/assets/js/80.e68cc1e1.js"><link rel="prefetch" href="/assets/js/81.f6a47abe.js"><link rel="prefetch" href="/assets/js/82.3be4b911.js"><link rel="prefetch" href="/assets/js/83.a6f2eb0b.js"><link rel="prefetch" href="/assets/js/84.50cf6623.js"><link rel="prefetch" href="/assets/js/85.e398d0f1.js"><link rel="prefetch" href="/assets/js/87.d388ea25.js"><link rel="prefetch" href="/assets/js/88.a27b91e6.js"><link rel="prefetch" href="/assets/js/89.4bfb06f1.js"><link rel="prefetch" href="/assets/js/9.9dcd8d7c.js"><link rel="prefetch" href="/assets/js/90.a020fc84.js"><link rel="prefetch" href="/assets/js/91.f8555e11.js"><link rel="prefetch" href="/assets/js/92.c390150d.js"><link rel="prefetch" href="/assets/js/93.3d51d66e.js"><link rel="prefetch" href="/assets/js/94.583e865f.js"><link rel="prefetch" href="/assets/js/95.a3c88640.js"><link rel="prefetch" href="/assets/js/96.2f0f983e.js"><link rel="prefetch" href="/assets/js/97.dfd7a5e2.js"><link rel="prefetch" href="/assets/js/98.8c9c7dd6.js"><link rel="prefetch" href="/assets/js/99.c4482f1c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.709f0a23.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="animate__animated animate__fadeIn animate__slow container"><div class="header-wrap" data-v-bc840c6a><div class="header page" data-v-bc840c6a><div class="left" data-v-bc840c6a><div class="head-title" data-v-bc840c6a></div> <div class="nav" data-v-bc840c6a></div></div> <div class="right" data-v-bc840c6a><div class="search-box" data-v-bc840c6a><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></div> <div class="page post-page"><div class="title"><div class="post-title">浏览器内核那些事儿</div></div> <div class="info"><div class="tags"><a class="tag" data-v-5095c9bc>浏览器</a></div> <div class="author">KMS Woo</div> <div class="date">2021-8-28</div> <div class="count" style="display:;"><span id="busuanzi_value_page_pv"></span> <span>views</span></div></div> <div class="post-content"><div class="content__default"><p>有人的地方就有江湖，有利益的地方就有角逐。</p> <h3 id="内核"><a href="#内核" class="header-anchor">#</a> 内核</h3> <p>浏览器内核可以分成两部分：渲染引擎 和 JavaScript 引擎，它负责取得网页的内容（HTML、XML、图像等等）、整理讯息（例如加入 CSS 等），以及计算网页的显示方式，然后会输出至显示器或打印机。浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。所有网页浏览器、电子邮件客户端以及其它需要编辑、显示网络内容的应用程序都需要内核。JavaScript 引擎则是解析 Javascript 语言，执行 javascript 语言来实现网页的动态效果。</p> <p>最开始渲染引擎和JavaScript引擎并没有区分的很明确，后来JavaScript引擎越来越独立，内核就倾向于渲染引擎，所以现在平常所说的内核一般指的都是渲染引擎。如今常见的浏览器内核可以分这四种：</p> <ul><li>Trident</li> <li>Gecko</li> <li>Blink</li> <li>Webkit</li></ul> <h4 id="trident"><a href="#trident" class="header-anchor">#</a> Trident</h4> <p>Trident（IE 内核）：该内核程序在 1997 年的IE4中首次被采用，是微软在mosaic 代码基础之上修改而来的，并沿用到 IE11，也被普遍称作“IE内核”。</p> <p>Trident实际上是一款开放的内核，其接口内核设计的相当成熟，因此才有许多采用 IE 内核而非 IE 的浏览器(壳浏览器)涌现。由于 IE 本身的 &quot;垄断性&quot;（虽然名义上 IE 并非垄断，但实际上，特别是从 Windows 95 年代一直到 XP 初期，就市场占有率来说 IE 的确借助 Windows 的东风处于 &quot;垄断&quot; 的地位）而使得 Trident 内核的长期一家独大，微软很长时间都并没有更新 Trident 内核，这导致了两个后果——一是 Trident 内核曾经几乎与 W3C 标准脱节（2005年），二是 Trident 内核的大量 Bug 等安全性问题没有得到及时解决，然后加上一些致力于开源的开发者和一些学者们公开自己认为 IE 浏览器不安全的观点，也有很多用户转向了其他浏览器，Firefox 和 Opera 就是这个时候兴起的。非 Trident 内核浏览器的市场占有率大幅提高也致使许多网页开发人员开始注意网页标准和非 IE浏览器的浏览效果问题。</p> <p>补充：IE 从版本 11 开始，初步支持 WebGL 技术。IE8 的 JavaScript 引擎是 Jscript，IE9 开始用 Chakra，这两个版本区别很大，Chakra 无论是速度和标准化方面都很出色。</p> <p>国内很多的双核浏览器的其中一核便是 Trident，美其名曰 &quot;兼容模式&quot;。</p> <p>Window10 发布后，IE 将其内置浏览器命名为 Edge，Edge 最显著的特点就是新内核 EdgeHTML。2018年12月6日，微软宣布Microsoft Edge未来将基于Chromium开发，并将支持所有受支持的Windows版本以及macOS等平台。采用Chromium为核心的Microsoft Edge正式版于2020年1月15日发布。</p> <h4 id="gecko"><a href="#gecko" class="header-anchor">#</a> Gecko</h4> <p>Gecko（Firefox 内核）:Netscape6 开始采用的内核，后来Mozilla FireFox（火狐浏览器）也采用了该内核，Gecko 的特点是代码完全公开，因此，其开发程度很高，全世界程序员都可以为其编写代码，增加功能。因为这是个开源内核，因此受到许多人的青睐，Gecko 内核浏览器也很多，这也是Gecko内核虽然年轻但市场占有率能够迅速提高的重要原因。</p> <p>事实上，Gecko 引擎的由来跟 IE 不无关系，前面说过 IE 没有使用 W3C的标准，这导致了微软内部一些开发人员的不满；他们与当时已经停止更新了的 Netscape的一些员工一起创办了 Mozilla，以当时的Mosaic 内核为基础重新编写内核，于是开发出了 Gecko。不过事实上，Gecko内核的浏览器仍然还是 Firefox用户最多，所以有时也会被称为 Firefox 内核。此外 Gecko 也是一个跨平台内核，可以在 Windows、BSD、Linux 和 Mac OS X 中使用。</p> <h4 id="webkit"><a href="#webkit" class="header-anchor">#</a> WebKit</h4> <p>一提到 webkit，首先想到的是 Chrome，可以说，Chrome 讲 Webkit 内核深入人心，殊不知，Webkit的鼻祖其实是 Safari。现在很多人错误地把webkit叫做Chrome内核，苹果爸爸哭瞎了双眼。</p> <p>Safari 是苹果共事开发的浏览器，使用 KDE 的 KHTML 作为浏览器的内核，Safari所用浏览器内核名称是大名鼎鼎的Webkit。Safari 在 2003 年 1 月 7日首次发行测试版，并成为Mac OS X v10.3 与之后版本的默认浏览器，也是成为苹果其他系列产品的指定浏览器（也支持Windows平台）。</p> <p>由上述可知，webkit 前身是 KDE小组的 KHTML引擎， 可以说webkit 是 KHTML 的一个开源的分支，当年苹果在比较Gecko和KHTML后，选择了后者来做引擎开发， 是因为 KHTML 拥有清晰的源码结构和极快的渲染速度。</p> <p>webkit内核可以说是硬件盈利为主的苹果公司给软件行业最大贡献之一。随后，2008年谷歌公开发布了 Chrome 浏览器，，采用的 chromium 内核便 fork 了 webkit。</p> <p>此外，Apple 在Safari里面使用了自己的 Nitro JavaScript 引擎（只用于 webkit 来渲染 HTML），所以一般说道 Webkit， 通常指的就是渲染引擎，而不包括 JavaScript，在文章的开始也是强调过这一点。</p> <h4 id="chromium-blink"><a href="#chromium-blink" class="header-anchor">#</a> Chromium/Blink</h4> <p>2008年，谷歌公司公开发布了 Chrome 浏览器，浏览器使用的内核命名为 chromium。 chromium fork 自开元引擎 webkit，却把 webkit 的代码整理得刻度性提高很多，所以以前可能需要一天进行编译的代码，现在只要两个小时就能搞定，因此 chromium 引擎和其他基于 webkit的引擎所渲染页面效果也是有出入的。所以些地方会把 chromium 引擎和 webkit 区分开来单独介绍的原因。</p> <p>谷歌公司研发了自己的 JavaScript 引擎，V8,极大地提高了 JavaScript 的运算速度。</p> <p>chromium 问世后，带动了国产浏览器行业的发展，一些基于 chromium 的单核，双核浏览器如雨后春笋般拔地而起，例如 搜狗、360、QQ浏览器、等等，无一不是套着不同的外壳用着相同的内核。</p> <p>然而 2013 年 4 月 3 日，谷歌在 chromium Blog 上发表。称将与苹果的开元浏览器核心 webkit 分到样表，在 chromium 项目中研发 Blink 渲染引擎（既浏览器和兴），内置于 Chrome 浏览器之中。</p> <p>webkit 用的好好的，为何要头传入到一个新的内核中去呢？</p> <p>Blik 其实是 webkit 的分支，如同 webkit 是 KHTML 的分支一样。 谷歌的 chromium 一直停留在 webkit  作为渲染引擎，但出于某种原因，并没有将其多线程架构移植入 Webkit。</p> <p>后来，由苹果推出的 webkit2 与 chromium 的沙箱设计存在冲突， 所以 chromium 一直停留在 webkit， 并使用移植的方式来实现和主线 webkit2 的对接。这增加了 chromium 的复杂性，且在一定程度上影响力 chromium 的架构移植工作。</p> <p>基于以上原因，Google 决定从 webkit 衍生出自己的 Blik 引擎（谷歌和 Opera Software 共同研发），将在webkit 代码的基础上研发更加快速和简约的渲染引擎，并逐步脱离 webkit 的影响，创造一个完全独立的 Blink。这样以来，唯一一条维系谷歌和苹果之间技术关系的纽带就这样被切点了。</p> <p>谷歌和苹果在多个领域都是竞争对手，而唯独在浏览器引擎上有技术合作，利益一致。但为了各自的利益，谁都不会拿出 100%的诚意来做好 webkit，因为你做出来的成果竞争对手直接享用。移动互联网已经崛起，手机和平板设备必将成为浏览器的另一个战场。这个时候，如果苹果跟苹果仍然黏在一起，讲会严重阻碍双方的颈部，也会阻碍 webkit 的进步。</p> <p>据说 Blink 删除了 880w 行webkit 代码。</p> <p>Blink 问世之后， 国产各种 Chrome 系浏览器也纷纷投入 B离开 的怀抱， 可以在浏览器地址栏输入 “<a href="Chrome://version">Chrome://version</a>” 进行查看。</p> <h4 id="presto"><a href="#presto" class="header-anchor">#</a> Presto</h4> <p>Presto 是 opera 的前任内核， 为何说是前任，因为最新的 opera 浏览器早已将之抛弃而投入谷歌的怀中。</p> <p>opera 的一个里程碑作品是 Opera7.0， 因为他使用了 Opera software 自主开发的 Presto 渲染引擎，取代了旧版  Opera4 至 6 版本使用的 Elektra 排版引擎。改款引擎特点就是渲染的优化速度达到了极致，然而代价是牺牲了网页的兼容性。</p> <p>presto 加入了动态功能，例如网页或者后部分可随着 DOM 及 script 语法的时间而重新排版。presto在推出后不断更新版本，使不少错误得以修正，以及于都 JavaScript 效能得以最佳化，并成为当时速度最快的引擎。
然而为了减少研发成本，opera 在 2013 年 2 月宣布放弃 presto， 转而跟随 Chrome 使用 webkit 分支的 chromium 引擎作为自家浏览器核心引擎，presto 内核的 opera 浏览器 版本永远停留在了 12.17。在Chrome 与2013年推出 Blink 引擎之后，opera 也紧跟其脚步表示将转而使用 Blink 作为浏览器核心引擎。</p> <p>presto 与开源的 webkit 和经过谷歌加持的 chromium 系列相比毫无推广向上的优势，这是 opera转投 webkit 的主要原因，并且使用 webkit 内核的 opera 浏览器可以兼容谷歌海量的插件资源。但是换内核的代价对于opera 来说过于惨痛。使用谷歌的 webkit 内核后，原本快速，轻量化、稳定的Opera 浏览器变得异常的卡顿，而且表现不稳定，Opera原本旧内核浏览器书签同步到新内核上的工作 Opera 花了两年时间，期间很多Opera 的用户纷纷转投谷歌浏览器和其他浏览器，造成了众多用户流失。至今现在还有上千万人在使用老版本的 Opera。</p> <p>很多人都认为 Opera 浏览器终止在了 12.17， 此后更新的 Opera 版本号不在是原来那个 Opera。</p> <h4 id="关于移动端"><a href="#关于移动端" class="header-anchor">#</a> 关于移动端</h4> <p>移动端的浏览器内核主要说的是系统内置浏览器内核。</p> <p>目前移动设备浏览器上常用的内核有 Webkit、Blink、Trident、Gecko等，其中 iPhone 和 iPad 等苹果 iOS 平台主要是 webkit， Android 4.4 之前得Android 系统内核是 webkit ，Android 4.4 系统浏览器切换到了 chromium， 内核是 webkit 的分支 Blink，Windows phone 8 系统浏览器内核是 Trident。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>浏览器内核主要指的是浏览器渲染引擎，2013年以前，代表有 Trident（IE），Gecko（Firefox），Webkit（safari chrome等）以及presto（opera）。2013年之后谷歌开始研发Blink 引擎，Chrome 28 以后开始使用，而 opera 放弃了自主研发的 presto 引擎，投入谷歌的怀抱，和谷歌一起研发 Blink 引擎，国内各种Chrome 系浏览器也纷纷放弃了 webkit， 投入了 Blink 的怀抱。</p> <table><thead><tr><th style="text-align:left;">浏览器</th> <th style="text-align:left;">内核</th></tr></thead> <tbody><tr><td style="text-align:left;">Chrome</td> <td style="text-align:left;">Blink</td></tr> <tr><td style="text-align:left;">FireFox</td> <td style="text-align:left;">Gecko</td></tr> <tr><td style="text-align:left;">Safari</td> <td style="text-align:left;">Webkit</td></tr> <tr><td style="text-align:left;">Opera</td> <td style="text-align:left;">Blink</td></tr> <tr><td style="text-align:left;">IE</td> <td style="text-align:left;">Trident</td></tr> <tr><td style="text-align:left;">Edge</td> <td style="text-align:left;">Blink</td></tr></tbody></table> <p>PS：2021年5月20日，微软宣布将在2022年6月15日彻底终止支持Internet Explorer。</p> <hr></div></div></div> <div class="footer-wrap" data-v-e2e64d12><div class="footer page" data-v-e2e64d12><div class="count" data-v-e2e64d12>
      本站总访问量<span id="busuanzi_value_site_pv" data-v-e2e64d12></span>次
      本站访客数<span id="busuanzi_value_site_uv" data-v-e2e64d12></span>人次
      本文总阅读量<span id="busuanzi_value_page_pv" data-v-e2e64d12></span>次
    </div> <div class="link" data-v-e2e64d12><a href="http://www.aaronsw.com/" target="_blank" data-v-e2e64d12>Aaron Swartz</a><a href="https://www.cnblogs.com/rubylouvre/" target="_blank" data-v-e2e64d12>司徒正美</a></div> <div class="contact" data-v-e2e64d12><a href="https://github.com/KMSWoo" target="_blank" data-v-e2e64d12><span class="iconfont icon-github" data-v-e2e64d12></span></a> <a href="mailto:wayneincode@gmail.com" data-v-e2e64d12><span class="iconfont icon-youjian" data-v-e2e64d12></span></a></div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.f6b2750d.js" defer></script><script src="/assets/js/6.992087fc.js" defer></script><script src="/assets/js/1.bd8257ab.js" defer></script><script src="/assets/js/86.c4379b40.js" defer></script>
  </body>
</html>
